<!DOCTYPE html>
<html lang="en">
<head>
    
    <title>Curso java scrip completo 2018</title>
</head>
<body>
    <h1 id="title">Contrato Java Scrip Completo</h1>
    
    <main class="cmain" id="idmain">
        <h2>Subtitulo</h2>
        <p>textando os botões de javas scrip em acordo de contrato</p>
    </main>
    <form action="#" onsubmit="return validarFormulario()">
        <input type="text" id="txtNome" placeholder="nome"><br><br>
        <input type="text" id="txtEmail" placeholder="Email"><br><br>

        <input type="checkbox" id="contrato" onchange="enableOrDisableButton()">
        <label for="contrato">Li e Aceito o seguinte Contrato</label><br><br>
        <textarea name="#" id="#" cols="30" rows="10" readonly>Este contrato nos dá direito à...</textarea><br><!--readonly não permite inserir texto -->
        <input type="submit" value="cadastrar" disabled>
    </form>
    <script>
        function enableOrDisableButton() {
            const contrato = document.querySelector("#contrato")
            const btn = document.querySelector('form input[type="submit"]');
            let checked = contrato.checked;
            btn.disabled = !checked
        }
        function validarFormulario() {
            const nome = document.getElementById("txtNome").value.trim();
            const email = document.getElementById("txtEmail").value.trim();
            const contrato = document.getElementById("contrato").checked;
        if (nome ===""|| email ===""|| !contrato){
            alert("por favor, preencha todos os campos e aceite o contrato.");
            return false; //impede o envio do formulario.
        }
         //Exibe a mensagem de sucesso
         alert("Cadastro realizado com sucesso");
            // Limpa os campos após o cadastro ser realizado
            document.getElementById("txtNome").value = "";
            document.getElementById("txtEmail").value = "";
            document.getElementById("contrato").checked = false;
            enableOrDisableButton(); // Desabilita o botão de cadastro novamente
            return false; // Impede o envio do formulário
        }
    </script>
</body>
</html>